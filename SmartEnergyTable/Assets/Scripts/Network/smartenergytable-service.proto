syntax = "proto3";

option go_package = "pkg/api/v1";

message Empty {
}

message GameObject {
    RoomId room_id = 1;
    string name = 2;
    float pos_x = 3;
    float pos_y = 4;
    float pos_z = 5;
}

message Room {
    string id = 1;
    repeated GameObject objects = 2;
    int32 sceneId = 3;
}

message RoomId {
    string id = 1;
    string user_id = 2;
}

message Scene {
    string id = 1;
    int32 sceneId = 2;
}

message Update {
    string id = 1;
    Room room = 2;
}

service SmartEnergyTableService {

    rpc CreateRoom (Empty) returns (Room) {
    }

    rpc JoinRoom (RoomId) returns (stream Update) {
    }

    rpc AddGameObject (GameObject) returns (Empty) {

    }

    rpc RemoveGameObject (RoomId) returns (Empty) {

    }

    rpc ChangeScene (Scene) returns (Empty) {
    }

    rpc LeaveRoom (RoomId) returns (Empty) {

    }
}